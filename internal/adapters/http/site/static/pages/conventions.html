<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/docs/assets/site.css"><title>Engineering Conventions (CUJU Leaderboard)</title></head><body><div class="layout"><aside id="sidebar"></aside><main><article><h1>Engineering Conventions (CUJU Leaderboard)</h1>
<p>These project-wide rules ensure consistency and testability.</p>
<h2>Encapsulation</h2>
<ul>
<li>Keep implementation details unexported. Export only interfaces, constructors, and minimal DTOs.</li>
<ul>
<li>Prefer `internal/` packages for non-public code.</li>
</ul>
<h2>Context-First Functions</h2>
<ul>
<li>All functions and methods that can block, perform I/O, or call other layers must accept `context.Context` as the first parameter and pass it through the call chain.</li>
<ul>
<li>Constructors may accept `context.Context` as first parameter for future extensibility.</li>
</ul>
<h2>Initializers via Options</h2>
<ul>
<li>Use functional options for configuration: `New(ctx, ...Option)`.</li>
<ul>
<li>Provide `WithX(...) Option` helpers. Set safe defaults in `New`.</li>
</ul>
<h2>Error Handling</h2>
<ul>
<li>Each package has an `errors.go` defining:</li>
<p>- A simple wrapper type implementing `Error()` and `Unwrap()`.   - `Wrap(op, err)` helper to annotate external errors.</p>
<ul>
<li>Never return raw external errors. Always wrap with operation context.</li>
<ul>
<li>Define package-specific sentinel errors (e.g., `ErrNotFound`) in `errors.go`.</li>
</ul>
<h2>Testing</h2>
<ul>
<li>Test files exist per package; they may be placeholders until implementations are added.</li>
<ul>
<li>Use `t.Helper()` and table-driven tests where practical.</li>
</ul>
<h2>HTTP Layer</h2>
<ul>
<li>Accept context in handlers and pass to dependencies.</li>
<ul>
<li>Keep handler deps as interfaces to decouple logic and enable tests.</li>
</ul>
</article></main></div><script src="/docs/assets/site.js"></script></body></html>